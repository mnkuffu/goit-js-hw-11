{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '52310861-2b937f02bf96ae9d966886b68';\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 9,\n      },\n    })\n    .then(response => response.data.hits)\n    .catch(error => {\n      console.error('Error fetching images:', error.message);\n      return [];\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function createGallery(imgs) {\n  const gallery = document.querySelector('.gallery');\n\n  console.log(imgs);\n\n  return imgs\n    .map(\n      img => `\n        <li class='item'>\n          <a class='gallery-item' href='${img.largeImageURL}'>\n            <img \n              class='gallery-img' \n              src='${img.webformatURL}' \n              alt='${img.tags}' \n              loading=\"lazy\" \n            />\n          </a>\n          <div class='info'>\n            <ul class='info-list'>\n              <li><h3>Likes</h3><p>${img.likes}</p></li>\n              <li><h3>Views</h3><p>${img.views}</p></li>\n              <li><h3>Comments</h3><p>${img.comments}</p></li>\n              <li><h3>Downloads</h3><p>${img.downloads}</p></li>\n            </ul>\n          </div>\n        </li>\n      `\n    )\n    .join('');\n}\n\nexport function createLightbox() {\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.classList.add('is-hidden');\n}\n","import { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  showLoader,\n  hideLoader,\n  clearGallery,\n  createLightbox\n} from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst formEl = document.querySelector('.form');\nconst inputEl = document.querySelector('input[name=\"search-text\"]');\n\nformEl.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n  e.preventDefault();\n  clearGallery();\n\n  const searchQuery = inputEl.value.trim();\n\n   if (!searchQuery) {\n    iziToast.warning({\n      title: 'Error',\n      message: 'Please type something to search',\n      position: 'topRight',\n    });\n    hideLoader();\n    return;\n   }\n    \n  inputEl.value = '';\n\n  showLoader();\n\n  getImagesByQuery(searchQuery)\n    .then(res => {\n      if (res.length === 0) {\n        iziToast.info({\n          title: 'Error',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      const markup = createGallery(res);\n      document.querySelector('.gallery').innerHTML = markup;\n      createLightbox();\n    })\n    .catch(err => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Try again later.',\n        position: 'topRight',\n      });\n      console.error(err);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","axios","response","error","lightbox","SimpleLightbox","createGallery","imgs","img","createLightbox","clearGallery","gallery","showLoader","hideLoader","formEl","inputEl","onSearch","e","searchQuery","iziToast","res","markup","err"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IAAIJ,EAAU,CACb,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACX,CACP,CAAK,EACA,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,MAAMC,IACL,QAAQ,MAAM,yBAA0BA,EAAM,OAAO,EAC9C,GACR,CACL,CCpBA,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAM,CAClB,gBAAS,cAAc,UAAU,EAEjD,QAAQ,IAAIA,CAAI,EAETA,EACJ,IACCC,GAAO;AAAA;AAAA,0CAE6BA,EAAI,aAAa;AAAA;AAAA;AAAA,qBAGtCA,EAAI,YAAY;AAAA,qBAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMQA,EAAI,KAAK;AAAA,qCACTA,EAAI,KAAK;AAAA,wCACNA,EAAI,QAAQ;AAAA,yCACXA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,OAKjD,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,GAAiB,CAC/BL,EAAS,QAAO,CAClB,CAEO,SAASM,GAAe,CAC7B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CAEO,SAASC,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,WAAW,CACrC,CAEO,SAASC,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,WAAW,CAClC,CC5CA,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAU,SAAS,cAAc,2BAA2B,EAElED,EAAO,iBAAiB,SAAUE,CAAQ,EAE1C,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAChBP,IAEA,MAAMQ,EAAcH,EAAQ,MAAM,KAAI,EAErC,GAAI,CAACG,EAAa,CACjBC,EAAS,QAAQ,CACf,MAAO,QACP,QAAS,kCACT,SAAU,UAChB,CAAK,EACDN,IACA,MACA,CAEFE,EAAQ,MAAQ,GAEhBH,IAEAb,EAAiBmB,CAAW,EACzB,KAAKE,GAAO,CACX,GAAIA,EAAI,SAAW,EAAG,CACpBD,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,2EACT,SAAU,UACpB,CAAS,EACD,MACD,CAED,MAAME,EAASf,EAAcc,CAAG,EAChC,SAAS,cAAc,UAAU,EAAE,UAAYC,EAC/CZ,GACN,CAAK,EACA,MAAMa,GAAO,CACZH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yCACT,SAAU,UAClB,CAAO,EACD,QAAQ,MAAMG,CAAG,CACvB,CAAK,EACA,QAAQ,IAAM,CACbT,GACN,CAAK,CACL"}